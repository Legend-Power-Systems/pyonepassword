# shellcheck shell=bash
# TODO: Explain how to use this
# This mostly should be ignored unless it's obvious what it's for
if [ -n "$PROJSRC" ];
then
    alias cdpyonepw='cd "$PROJSRC/pyonepassword"; ./scripts/archive_op_binary.sh'
fi

function foobar(){
    echo "FOOBAR: $1"
}

function local_branches() {
    local cur_="$1"
    git for-each-ref --format='%(refname:short)' "refs/heads/$cur_*" "refs/heads/$cur_*/**"
}

# local_branches "m"
function _local_branch_completion(){
    local branch="$1"
    _arguments "1:first:($(local_branches "$branch"))"
}

if [ -n "$ZSH_VERSION" ];
then
    compdef _local_branch_completion "deletebranch.sh"
fi
